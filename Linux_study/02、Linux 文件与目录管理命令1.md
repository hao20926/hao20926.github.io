# Linux 文件与目录管理命令

## 目录的相关操作：
`.`                 代表此层目录<br/>
`..`                代表上一层目录<br/>
`-`                代表前一个工作目录<br/>
`~`               代表『目前用户身份』所在的家目录<br/>
`~account`   代表account这个用户的家目录（account是个账户的名称）<br/>


### `cd`      变换目录<br/>
``` cd [相对路径或绝对路径]<br/>  ```

### `pwd`    显示当前目录<br/>
````bash
选项与参数：
-P ：显示出确实的路径，而非使用链接 (link) 路径。
````
### `mkdir`  建立一个新的目录<br/>
````bash
选项与参数：
-m ：配置文件案的权限喔！直接设定，不需要看预设权限 umask（默认权限）的脸色～
-p ：帮助你直接将所需要的目录(包含上层目录)递归建立起来！
````
### `rmdir`  删除一个空的目录<br/>
````bash
选项与参数：
-p ：连同『上层』『空的』目录也一起删除
````
### `ls`  文件与目录的监视<br/>
````bash
选项与参数（常用）：
-a ：全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用)
-d ：仅列出目录本身，而不是列出目录内的文件数据(常用)
-h ：将文件容量以人类较易读的方式(例如 GB, KB 等等)列出来；
-i ：列出 inode 号码
-l ：长数据串行出，包含文件的属性与权限等等数据；(常用)
-n ：列出 UID 与 GID 而非使用者与群组的名称 (UID 与 GID 会在账号管理提到！)
````
### `cp`  复制文件或目录<br/>
````bash
 cp [-adfilprsu] 来源文件(source) 目标文件(destination)
 cp [options] source1 source2 source3 .... directory(两个文档以上复制到目录）

选项与参数：
-a ：相当于 -dr --preserve=all 的意思；(常用)
-d ：若来源文件为链接文件的属性(link file)，则复制链接文件属性而非文件本身；
-f ：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；
-i ：若目标文件(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
-l ：进行硬式连结(hard link)的连结档建立，而非复制文件本身；
-p ：连同文件的属性(权限、用户、时间)一起复制过去，而非使用默认属性(备份常用)；
-r ：递归持续复制，用于目录的复制行为；(常用)
最后需要注意的，如果来源档有两个以上，则最后一个目的文件一定要是『目录』才行！
````
### `rm`  移除文件或目录<br/>
````bash
rm [-fir] 文件或目录

选项与参数：
-f ：就是 force 的意思，忽略不存在的文件，不会出现警告讯息；
-i ：互动模式，在删除前会询问使用者是否动作
-r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！
````

### `mv`  移动文件与目录，或更名<br/>
````bash
mv [-fiu] source destination
mv [options] source1 source2 source3 .... directory（两个文档以上移动到目录）

选项与参数：<br/>
-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
-u ：若目标文件已经存在，且 source 比较新，才会更新 (update）
````

### `cat` 直接检视文件内容<br/>
````bash
选项与参数（常用）：
-b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
-n ：打印出行号，连同空白行也会有行号，与 -b 的选项不同；
````
### `tac` 反向列示<br/>

检视文件内容与cat相反<br/>

### `nl`  添加行号打印<br/>
````bash
选项与参数：
-b ：指定行号指定的方式，主要有两种：
 -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
 -b t ：如果有空行，空的那一行不要列出行号(默认值)；
-n ：列出行号表示的方法，主要有三种：
 -n ln ：行号在屏幕的最左方显示；
 -n rn ：行号在自己字段的最右方显示，且不加 0 ；
 -n rz ：行号在自己字段的最右方显示，且加 0 ；
-w ：行号字段的占用的字符数。
````
### `more`  一页一页翻动检视<br/>
````bash
more filename
````
 空格键 (space)：代表向下翻一页；<br/>
 Enter ：代表向下翻『一行』；<br/>
 /字符串 ：代表在这个显示的内容当中，向下搜寻『字符串』这个关键词；<br/>
 :f ：立刻显示出文件名以及目前显示的行数；<br/>
 q ：代表立刻离开 more ，不再显示该文件内容。<br/>
 b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。<br/>

### `less`  一页一页翻动检视(更灵活)<br/>

 空格键 ：向下翻动一页；<br/>
 [pagedown]：向下翻动一页；<br/>
 [pageup] ：向上翻动一页；<br/>
 /字符串 ：向下搜寻『字符串』的功能；<br/>
 ?字符串 ：向上搜寻『字符串』的功能；<br/>
 n ：重复前一个搜寻 (与 / 或 ? 有关！)<br/>
 N ：反向的重复前一个搜寻 (与 / 或 ? 有关！)<br/>
 g ：前进到这个资料的第一行去；<br/>
 G ：前进到这个数据的最后一行去 (注意大小写)；<br/>
 q ：离开 less 这个程序；<br/>

### `head`  取出资料前面几行<br/>
````bash
选项与参数：
-n ：后面接数字，代表显示几行的意思
````
### `tail`  取出后面几行<br/>
````bash
选项与参数：
-n ：后面接数字，代表显示几行的意思
-f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c 才会结束 tail 的侦测
````
ex. 取出/etc/man db.conf中11-20行内容<br/>
『 head -n 20 /etc/man_db.conf | tail -n 10 』取出前20行再取后10行就是所需内容<br/>

### `touch`  修改文件时间或建置新档<br/>
````bash
选项与参数：
-a ：仅修订 access time；
-c ：仅修改文件的时间，若该文件不存在则不建立新文件；
-d ：后面可以接欲修订的日期而不用目前的日期，也可以使用 --date="日期或时间"
-m ：仅修改 mtime ；
-t ：后面可以接欲修订的时间而不用目前的时间，格式为[YYYYMMDDhhmm]
````
### `umask`  文件预设权限<br/>
````bash
umask -S (以符号类型显示)
u=rwx,g=rx,o=rx
umask     (数字形态显示）
0022(初始化默认)
````
### `chattr`  配置文件案隐藏属性<br/>
````bash
选项与参数：
\+ ：增加某一个特殊参数，其他原本存在参数则不动。
\-   ：移除某一个特殊参数，其他原本存在参数则不动。
\= ：设定一定，且仅有后面接的参数
````
A ：当设定了 A 这个属性时，若你有存取此文件(或目录)时，他的访问时间 atime 将不会被修改，<br/>
 可避免 I/O 较慢的机器过度的存取磁盘。(目前建议使用文件系统挂载参数处理这个项目)<br/>
S ：一般文件是异步写入磁盘的(原理请参考前一章 sync 的说明)，如果加上 S 这个属性时，<br/>
 当你进行任何文件的修改，该更动会『同步』写入磁盘中。<br/>
a ：当设定 a 之后，这个文件将只能增加数据，而不能删除也不能修改数据，只有 root 才能设定这属性<br/>
c ：这个属性设定之后，将会自动的将此文件『压缩』，在读取的时候将会自动解压缩，<br/>
 但是在储存的时候，将会先进行压缩后再储存(看来对于大文件似乎蛮有用的！)<br/>
d ：当 dump 程序被执行的时候，设定 d 属性将可使该文件(或目录)不会被 dump 备份<br/>
i ：这个 i 可就很厉害了！他可以让一个文件『不能被删除、改名、设定连结也无法写入或新增数据！』<br/>
 对于系统安全性有相当大的帮助！只有 root 能设定此属性<br/>
s ：当文件设定了 s 属性时，如果这个文件被删除，他将会被完全的移除出这个硬盘空间，<br/>
 所以如果误删了，完全无法救回来了喔！<br/>
u ：与 s 相反的，当使用 u 来配置文件案时，如果该文件被删除了，则数据内容其实还存在磁盘中，<br/>
 可以使用来救援该文件喔！
<br/>

### `lsattr`  显示文件隐藏属性
<br/>
````bash
选项与参数：
-a ：将隐藏文件的属性也秀出来；
-d ：如果接的是目录，仅列出目录本身的属性而非目录内的文件名；
-R ：连同子目录的数据也一并列出来！

````
### `file`  观察文件类型<br/>
````bash
  file [filename]
````
### `which` 寻找【指令在哪个位置】<br/>
````bash
which [-a] command

选项或参数：
-a ：将所有由 PATH 目录中可以找到的指令均列出，而不止第一个被找到的指令名称
````

### `whereis`   由一些特定的目录中寻找文件文件名<br/>
````bash
   whereis  [-bmsu]  文件或目录名

选项与参数：<br/>
-l :可以列出 whereis 会去查询的几个主要目录而已
-b :只找 binary 格式的文件
-m :只找在说明文件 manual 路径下的文件
-s :只找 source 来源文件
-u :搜寻不在上述三个项目当中的其他特殊文件
````

### `locate(查找)/updatedb(更新locate数据库)`   文件档名的搜寻<br/>
````bash
选项与参数：
-i ：忽略大小写的差异；
-c ：不输出档名，仅计算找到的文件数量
-l ：仅输出几行的意思，例如输出五行则是 -l 5
-S ：输出 locate 所使用的数据库文件的相关信息，包括该数据库纪录的文件/目录数量等
-r ：后面可接正规表示法的显示方式
````
### `find`   文件档名的搜寻(广泛)<br/>
````bash
   find  [PATH]  [option]  [action]
选项与参数：
1. 与时间有关的选项：共有 -atime, -ctime 与 -mtime ，以 -mtime 说明
 -mtime n ：n 为数字，意义为在 n 天之前的『一天之内』被更动过内容的文件；
 -mtime +n ：列出在 n 天之前(不含 n 天本身)被更动过内容的文件档名；
 -mtime -n ：列出在 n 天之内(含 n 天本身)被更动过内容的文件档名。
 -newer file ：file 为一个存在的文件，列出比 file 还要新的文件档名
````
````bash
选项与参数：
2. 与使用者或组名有关的参数：
    -uid n ：n 为数字，这个数字是用户的账号 ID，亦即 UID ，这个 UID 是记录在
 /etc/passwd 里面与账号名称对应的数字。这方面我们会在第四篇介绍。
    -gid n ：n 为数字，这个数字是组名的 ID，亦即 GID，这个 GID 记录在
 /etc/group，相关的介绍我们会第四篇说明～
    -user name ：name 为使用者账号名称喔！例如 dmtsai
    -group name：name 为组名喔，例如 users ；
    -nouser ：寻找文件的拥有者不存在 /etc/passwd 的人！
    -nogroup ：寻找文件的拥有群组不存在于 /etc/group 的文件！
 当你自行安装软件时，很可能该软件的属性当中并没有文件拥有者，
 这是可能的！在这个时候，就可以使用 -nouser 与 -nogroup 搜寻。
````
````bash
选项与参数：
3. 与文件权限及名称有关的参数：
    -name filename：搜寻文件名为 filename 的文件；
    -size [+-]SIZE：搜寻比 SIZE 还要大(+)或小(-)的文件。这个 SIZE 的规格有：
 c: 代表 byte， k: 代表 1024bytes。所以，要找比 50KB
 还要大的文件，就是『 -size +50k 』
    -type TYPE ：搜寻文件的类型为 TYPE 的，类型主要有：一般正规文件 (f), 装置文件 (b, c),
 目录 (d), 连结档 (l), socket (s), 及 FIFO (p) 等属性。
    -perm mode ：搜寻文件权限『刚好等于』 mode 的文件，这个 mode 为类似 chmod
 的属性值，举例来说， -rwsr-xr-x 的属性为 4755 ！
    -perm -mode ：搜寻文件权限『必须要全部囊括 mode 的权限』的文件。
````
````bash
选项与参数：
4. 额外可进行的动作：
    -exec command ：command 为其他指令，-exec 后面可再接额外的指令来处理搜寻到的结果。
    -print ：将结果打印到屏幕上，这个动作是预设动作！
ex.
    find /usr/bin /usr/sbin -perm /7000 -exec ls -l {} \;
    那个 -exec 后面的 ls -l 就是额外的指令，指令不支持命令别名。
````
